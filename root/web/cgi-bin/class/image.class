<?

class CSnapshotImage
{
	public 	$command;

	public 	$payload;
	public  $payloadLength;
	public	$dataInfo;
	public  $packFormat;
	
	function __construct() 
	{
	  $this->packFormat = '';
	  $this->payloadLength = 0;
	  
		$this->dataInfo = array(	'id' 			=> array('value'=>0, 'type'=>'i1')
							              );	
							
		$this->payloadLength += GetDataInfoLength($this->dataInfo);
		$this->packFormat 	= MakeDataFormat($this->dataInfo);
	}
	function __get($name)
	{
		switch($name)
		{
			case 'id':
			{
				return $this->dataInfo[$name]['value'];
			}
			break;
		}	
	}
	function __set($name,  $val) 
	{
		switch($name)
		{
			case 'id':			
			{
				$this->dataInfo[$name]['value'] = $val;
			}
			break;
		}		
	}
	function __destruct() 
	{
	}
	// arrayed data info binary string
	function SetPayload()
	{
		$this->command = 0;
		$this->payload = '';
		$this->payload .= MakePayload($this->dataInfo);		
	}		
	// Binary string into arrayed data
	function UnpackDataInfo($_dataArray)
	{
		if (is_string($_dataArray)) 
		{
			$_dataArray = unpack($this->packFormat, $_dataArray);
		}
		SetDataInfo($this, $_dataArray);
		//$this->SetPayload();
	}	
}





?>
